{% extends 'base.j2' %}
{% block title %}task{% endblock %}
{% block content %}
<h1>task</h1>

<table>
<thead>
    <tr>
        <th>key</th>
        <th>value</th>
    </tr>
</thead>
<tbody>
    <tr>
        <td>id</td>
        <td>{{ task.id }}</td>
    </tr>
    <tr>
        <td>status</td>
        <td><code>{{ task.status }}</code></td>
    </tr>
    <tr>
        <td>command</td>
        <td><a href="/tasks/{{ task.id }}/command.json"><code>{{ task.command|truncate(20) }}</code></a></td>
    </tr>
    <tr>
        <td>env</td>
        <td><a href="/tasks/{{ task.id }}/env.json"><code>{{ task.env|truncate(20) }}</code></a></td>
    </tr>
    <tr>
        <td>created_at</td>
        <td><code>{{ task.created_at|format_time if task.created_at is not none else 'NULL'}}</code></td>
    </tr>
    <tr>
        <td>updated_at</td>
        <td><code>{{ task.updated_at|format_time if task.updated_at is not none else 'NULL'}}</code></td>
    </tr>
    <tr>
        <td>started_at</td>
        <td><code>{{ task.started_at|format_time if task.started_at is not none else 'NULL'}}</code></td>
    </tr>
    <tr>
        <td>stopped_at</td>
        <td><code>{{ task.stopped_at|format_time if task.stopped_at is not none else 'NULL'}}</code></td>
    </tr>
    <tr>
        <td>duration</td>
        <td><code>{{ task.duration_seconds|round(1) if task.duration_seconds is not none else 'NULL' }}</code></td>
    </tr>
    <tr>
        <td>logs</td>
        <td><a href="/logs/{{ task.id }}.txt">logs</code></a></td>
    </tr>
</tbody>
</table>
{% endblock %}
